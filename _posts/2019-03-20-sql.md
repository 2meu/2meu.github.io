---
title: '[SQL] Postgres DB'
date: 2019-03-20
---

## A few reminders

- NULL: missing
- IS NULL, IS NOT NULL: don't use = NULL
- count( * ): number of rows
- count(column_name): number of non-NULL rows
- SELECT DISTINCT column_name ..: distinct, including NULL

## coalesce() function

can be useful for sepcefiying a default or backup value when a column contains NULL values.(as a fallback value)

- coalesce(NULL, 1, 2) = 1
- coalesce(NULL, NULL) = NULL
- coalesce(2, 3, NULL) = 2

```SQL
-- Use coalesce
SELECT coalesce(industry, sector, 'Unknown') AS industry2,
       -- Don't forget to count!
       count(industry)
  FROM fortune500
-- Group by what? (What are you counting by?)
 GROUP BY industry2
-- Order results to see most common first
 order by
-- Limit results to get just the one value you want
 limit 1;
```

`count(industry2)`가 아닌 이유: coalesce가 industry에서 missing한 값을 secotr에서 불러와 industry로 채워주기 때문. industry2는 단지 결과물 표시의 이름일 뿐이다.

---
title: '[텍스트 마이닝] tf-idf'
date: 2019-03-26
---

## tf-idf란

정보 검색과 텍스트 마이닝에서 이용하는 가중치로, 여러 문서로 이루어진 문서군이 있을 때 어떤 단어가 특정 문서 내에서 **얼마나 중요한 것인지** 를 나타내는 통계적 수치.

- TF(Term Frequency): 문서 내에서 특정 단어가 나오는 빈도(문서 내에서 중요하게 생각)
- IDF(Inverse Document Frequency): DF(문서군 내에서 자주 등장하는 단어의 빈도)가 높으면
각 문서들을 세분화하여 구분할 수 없어 역수를 취해(여기까지가 IDF 정의) TF와 곱해주어 여러 문서로 이루어진 문서군이 있을 때 어떤 단어가 특정 문서 내에서 얼마나 중요한 것인지를 나타내는 통계적 수치에 사용.(IDF의 존재 의의 - 전체 문서 중 특정 단어가 존재하는 문서가 많이 존재 할수록 그 단어는 중요한 단어가 아닌 흔한 단어라 생각하여 tf에 나누어 주어 통계적 수치를 줄여준다.)

결론: 특정 문서 내에서 단어 빈도가 높을 수록, 그리고 전체 문서들 중 그 단어를 포함한 문서가 적을수록 TF-IDF값이 높아진다. 이 값을 이용하면 모든 문서에 흔하게 나타나는 단어를 걸러내는 효과를 얻을 수 있다.


ex) 10개의 문서가 존재, target 문서 내의 youtube 단어 수 10개
  - tf(t,d) = 10
  - idf(t,D) = log( D / 1 + 단어가 포함된 문서의 수)
    - 분모가 0이 되는 것을 방지하기 위해 1을 더해준다.
  - tfidf(t,d,D) = tf(t,d) X idf(t,D
  - youtube 단어가 존재하는 문서가
    - 2개일 때: 10 x log(10/3) = 10 x 0.522 = 5.22
    - 7개일 떄: 10 x log(10/8) = 10 x 0.096 = 0.96

이므로 문서군 내에서 여러 문서에 target 단어가 분포할 시 tf-idf는 0에 가까워지고 이는 덜 중요한 단어라는 것을 나타낸다.

실제로 다른 문서에도 많이 존재할거 같은 a, an, the, and, or, of 같은 관사나 접속사같은 단어들의 중요도를 낮추는 역할을 한다.

## 정규화 필요

tf의 값이 천차만별로 나올 수 있기 때문에 정규화를 해 주어야 한다.

- 불린 빈도: tf(t,d) = t가 d에 한번이라도 나타나면 1, 아니면 0
- 로그 스케일 빈도: tf(t,d) = log( f(t,d) + 1 )
- 증가 빈도: 최빈 단어를 분모로 target 단어의 tf를 나눈 값으로, 일반적으로는 문서의 길이가 상대적으로 길 경우, 단어 빈도값을 조절하기 위해 사용한다. tf(t,d) = 0.5 + { ( 0.5 x f(t,d) ) / ( 최빈 단어 수 ) }

ex) 10개의 문서가 존재, target 문서 내의 youtube 단어수 100000개
- tf(t,d) = 10
- youtube 단어가 존재하는 문서가
  - 2개일 때: 100000 x log( 10 / 2 ) = 69897
  - 8개일 때: 100000 x 1og( 10 / 8) = 9691
숫자가 너무 커져버릴 수 있다.
- 정규화 사용
 - log scale
  - 2개일 때: log( 100000 + 1 ) x log( 10 / 2) = 3.49
  - 8개일 때: log( 100000 + 1 ) x log( 10 / 8) = 0.48
